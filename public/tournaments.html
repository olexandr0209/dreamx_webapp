<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>DreamX ‚Äî Tournaments</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="style.css" />
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <!-- Telegram WebApp SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <!-- –ù–∞—à –∑–∞–≥–∞–ª—å–Ω–∏–π core-—Å–∫—Ä–∏–ø—Ç -->
    <script src="dreamx_core.js"></script>
</head>

<body class="tournament-screen">
    <div class="top-bar-home">
        <div class="logo-main-top">DreamX</div>
    </div>

    <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π —Å–∫—Ä–æ–ª-–±–ª–æ–∫ -->
    <div class="tournament-container">
        <h1 class="tournament-title">Tournaments</h1>

        <!-- üî• –î–û–î–ê–í id, —â–æ–± JS –º—ñ–≥ –∑–Ω–∞–π—Ç–∏ –∫–Ω–æ–ø–∫—É -->
        <button class="mode-card" id="mode-vs-computer">
            <div class="mode-title">Play vs Computer</div>
            <div class="mode-sub">Fast game ‚Ä¢ Earn coins</div>
        </button>
    </div>

    <div class="bottom-nav">
        <button class="bottom-btn bottom-btn-secondary" id="back-home">
            Back
        </button>
    </div>

    <script>
        // –ë–µ–∑–ø–µ—á–Ω–∞ —Ä–æ–±–æ—Ç–∞ –∑ –∫–Ω–æ–ø–∫–∞–º–∏: –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –≤–æ–Ω–∏ —ñ—Å–Ω—É—é—Ç—å

        const modeBtn = document.getElementById("mode-vs-computer");
        if (modeBtn) {
            modeBtn.addEventListener("click", () => {
                const params = new URLSearchParams(window.location.search);

                // —Å—Ç–∞—Ä—ñ points –Ω–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ
                params.delete("points");

                const qs = params.toString();
                window.location.href = qs ? `game.html?${qs}` : "game.html";
            });
        }

        const backBtn = document.getElementById("back-home");
        if (backBtn) {
            backBtn.addEventListener("click", () => {
                const params = new URLSearchParams(window.location.search);
                params.delete("points");
                const qs = params.toString();
                window.location.href = qs ? `index.html?${qs}` : "index.html";
            });
        }
    </script>

    <script>
    const container = document.querySelector(".tournament-container");

    function hasScroll() {
        return container.scrollHeight > container.clientHeight;
    }

    function enableBounce() {
        let startY = 0;
        let isDragging = false;

        function onStart(e) {
            if (hasScroll()) return; // ‚ùó —è–∫—â–æ —Å–∫—Ä–æ–ª —î ‚Äî bounce –Ω–µ –ø—Ä–∞—Ü—é—î

            isDragging = true;
            startY = e.touches[0].clientY;
            container.style.transition = "none";
        }

        function onMove(e) {
            if (!isDragging) return;
            if (hasScroll()) return; // ‚ùó –±–ª–æ–∫—É–≤–∞—Ç–∏, —è–∫—â–æ —Å–∫—Ä–æ–ª –∑ º—è–≤–∏–≤—Å—è

            const currentY = e.touches[0].clientY;
            let delta = currentY - startY;

            const MAX = 40;
            delta = Math.max(-MAX, Math.min(MAX, delta));
            const softened = delta * 0.4;

            container.style.transform = `translateY(${softened}px)`;
        }

        function onEnd() {
            if (!isDragging) return;
            isDragging = false;
            container.style.transition = "transform 0.25s ease-out";
            container.style.transform = "translateY(0)";
        }

        container.addEventListener("touchstart", onStart);
        container.addEventListener("touchmove", onMove);
        container.addEventListener("touchend", onEnd);
        container.addEventListener("touchcancel", onEnd);
    }

    enableBounce();
</script>

</body>
</html>
